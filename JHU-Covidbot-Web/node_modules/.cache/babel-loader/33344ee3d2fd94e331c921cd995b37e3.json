{"remainingRequest":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\src\\Components\\Parts\\ChatInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\src\\Components\\Parts\\ChatInput.vue","mtime":1626752782333},{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBdWRpb1JlY29yZGVyIGZyb20gImF1ZGlvLXJlY29yZGVyLXBvbHlmaWxsIjsKaW1wb3J0ICogYXMgaGFyayBmcm9tICJoYXJrIjsKd2luZG93Lk1lZGlhUmVjb3JkZXIgPSBBdWRpb1JlY29yZGVyOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNoYXRJbnB1dCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHF1ZXJ5OiAiIiwKICAgICAgbWljcm9waG9uZTogZmFsc2UsCiAgICAgIHJlY29nbml0aW9uOiBudWxsLAogICAgICByZWNvcmRlcjogbnVsbCwKICAgICAgc2hvdWxkX2xpc3RlbjogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbWljcm9waG9uZV9zdXBwb3J0ZWQ6IGZ1bmN0aW9uIG1pY3JvcGhvbmVfc3VwcG9ydGVkKCkgewogICAgICByZXR1cm4gd2luZG93LndlYmtpdFNwZWVjaFJlY29nbml0aW9uIHx8IHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbiB8fCAhd2luZG93Lk1lZGlhUmVjb3JkZXIubm90U3VwcG9ydGVkOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIC8qIFRvZ2dsZSBtaWNyb3Bob25lICovCiAgICBtaWNyb3Bob25lOiBmdW5jdGlvbiBtaWNyb3Bob25lKGFjdGl2YXRlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoYWN0aXZhdGUpIHsKICAgICAgICB0aGlzLnNob3VsZF9saXN0ZW4gPSB0cnVlOwoKICAgICAgICBpZiAod2luZG93LndlYmtpdFNwZWVjaFJlY29nbml0aW9uIHx8IHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbikgewogICAgICAgICAgdGhpcy5yZWNvZ25pdGlvbiA9IG5ldyB3aW5kb3cud2Via2l0U3BlZWNoUmVjb2duaXRpb24oKSB8fCBuZXcgd2luZG93LlNwZWVjaFJlY29nbml0aW9uKCk7CiAgICAgICAgICB0aGlzLnJlY29nbml0aW9uLmludGVyaW1SZXN1bHRzID0gdHJ1ZTsKICAgICAgICAgIHRoaXMucmVjb2duaXRpb24ubGFuZyA9IHRoaXMubGFuZygpOwoKICAgICAgICAgIHRoaXMucmVjb2duaXRpb24ub25yZXN1bHQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IGV2ZW50LnJlc3VsdEluZGV4OyBpIDwgZXZlbnQucmVzdWx0cy5sZW5ndGg7ICsraSkgewogICAgICAgICAgICAgIF90aGlzLnF1ZXJ5ID0gZXZlbnQucmVzdWx0c1tpXVswXS50cmFuc2NyaXB0OyAvLyA8LSBwdXNoIHJlc3VsdHMgdG8gdGhlIFRleHQgaW5wdXQKICAgICAgICAgICAgfQogICAgICAgICAgfTsKCiAgICAgICAgICB0aGlzLnJlY29nbml0aW9uLm9uZW5kID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5yZWNvZ25pdGlvbi5zdG9wKCk7CgogICAgICAgICAgICBfdGhpcy5taWNyb3Bob25lID0gZmFsc2U7CgogICAgICAgICAgICBfdGhpcy5zdWJtaXQoewogICAgICAgICAgICAgIHRleHQ6IF90aGlzLnF1ZXJ5CiAgICAgICAgICAgIH0pOyAvLyA8LSBzdWJtaXQgdGhlIHJlc3VsdAoKICAgICAgICAgIH07CgogICAgICAgICAgdGhpcy5yZWNvZ25pdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMubWljcm9waG9uZSA9IGZhbHNlOwogICAgICAgICAgfTsKCiAgICAgICAgICB0aGlzLnJlY29nbml0aW9uLnN0YXJ0KCk7CiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuTWVkaWFSZWNvcmRlcikgewogICAgICAgICAgaWYgKHdpbmRvdy5NZWRpYVJlY29yZGVyKSB7CiAgICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsKICAgICAgICAgICAgICBhdWRpbzogdHJ1ZQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChzdHJlYW0pIHsKICAgICAgICAgICAgICBfdGhpcy5yZWNvcmRlciA9IG5ldyB3aW5kb3cuTWVkaWFSZWNvcmRlcihzdHJlYW0pOwoKICAgICAgICAgICAgICBfdGhpcy5yZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKCJkYXRhYXZhaWxhYmxlIiwgZnVuY3Rpb24gKHJlY29yZGluZykgewogICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChyZWNvcmRpbmcuZGF0YSk7CgogICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc3VibWl0KHsKICAgICAgICAgICAgICAgICAgICBhdWRpbzogcmVhZGVyLnJlc3VsdC5yZXBsYWNlKC9eZGF0YTouKztiYXNlNjQsLywgIiIpCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgaGFyayhfdGhpcy5yZWNvcmRlci5zdHJlYW0pLm9uKCJzdG9wcGVkX3NwZWFraW5nIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm1pY3JvcGhvbmUgPSBmYWxzZTsKICAgICAgICAgICAgICB9KTsgLy8gPC0gU3BlZWNoIGVuZCBkZXRlY3Rpb24KCiAgICAgICAgICAgICAgX3RoaXMucmVjb3JkZXIuc3RhcnQoKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5taWNyb3Bob25lID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0aGlzLnJlY29nbml0aW9uKSB0aGlzLnJlY29nbml0aW9uLmFib3J0KCk7ZWxzZSBpZiAodGhpcy5yZWNvcmRlcikgdGhpcy5yZWNvcmRlci5zdG9wKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBsaXN0ZW46IGZ1bmN0aW9uIGxpc3RlbigpIHsKICAgICAgaWYgKHRoaXMuc2hvdWxkX2xpc3RlbikgdGhpcy5taWNyb3Bob25lID0gdHJ1ZTsKICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdChzdWJtaXNzaW9uKSB7CiAgICAgIGlmIChzdWJtaXNzaW9uLnRleHQgJiYgc3VibWlzc2lvbi50ZXh0Lmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLiRlbWl0KCJzdWJtaXQiLCBzdWJtaXNzaW9uKTsKICAgICAgICB0aGlzLnF1ZXJ5ID0gIiI7CiAgICAgIH0gZWxzZSBpZiAoc3VibWlzc2lvbi5hdWRpbykgdGhpcy4kZW1pdCgic3VibWl0Iiwgc3VibWlzc2lvbik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ChatInput.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"bottomchat\">\r\n    <div class=\"container\">\r\n      <!-- Here are the suggestions -->\r\n      <div class=\"suggestions\"><slot /></div>\r\n      <div class=\"flexible\">\r\n        <!-- Text input -->\r\n        <input\r\n          v-model=\"query\"\r\n          class=\"input\"\r\n          type=\"text\"\r\n          autofocus\r\n          :placeholder=\"\r\n            (translations[lang()] && translations[lang()].inputTitle) ||\r\n            translations[config.fallback_lang].inputTitle\r\n          \"\r\n          :aria-label=\"\r\n            (translations[lang()] && translations[lang()].inputTitle) ||\r\n            translations[config.fallback_lang].inputTitle\r\n          \"\r\n          @keypress.enter=\"submit({ text: query })\"\r\n          @focus=\"\r\n            microphone = false;\r\n            should_listen = false;\r\n          \"\r\n        />\r\n\r\n        <!-- Send message button (arrow button) -->\r\n        <button\r\n          v-if=\"(!microphone && query.length > 0) || !microphone_supported\"\r\n          class=\"button\"\r\n          :title=\"\r\n            (translations[lang()] && translations[lang()].sendTitle) ||\r\n            translations[config.fallback_lang].sendTitle\r\n          \"\r\n          :aria-label=\"\r\n            (translations[lang()] && translations[lang()].sendTitle) ||\r\n            translations[config.fallback_lang].sendTitle\r\n          \"\r\n          @click=\"submit({ text: query })\"\r\n        >\r\n          <i class=\"material-icons\" aria-hidden=\"true\">arrow_upward</i>\r\n        </button>\r\n\r\n        <!-- Microphone Button -->\r\n        <button\r\n          v-else\r\n          class=\"button\"\r\n          :aria-label=\"\r\n            (translations[lang()] && translations[lang()].microphoneTitle) ||\r\n            translations[config.fallback_lang].microphoneTitle\r\n          \"\r\n          :title=\"\r\n            (translations[lang()] && translations[lang()].microphoneTitle) ||\r\n            translations[config.fallback_lang].microphoneTitle\r\n          \"\r\n          :class=\"{ mic_active: microphone }\"\r\n          @click=\"microphone = !microphone\"\r\n        >\r\n          <i class=\"material-icons\" aria-hidden=\"true\">mic</i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"sass\" scoped>\r\n@import '@/Style/Mixins'\r\n\r\n.bottomchat\r\n    position: fixed\r\n    bottom: 0\r\n    left: 0\r\n    width: 100%\r\n    background-color: var(--background)\r\n    padding-bottom: 8px\r\n\r\n.flexible\r\n    display: flex\r\n\r\n.suggestions\r\n    overflow-x: scroll\r\n    overflow-y: hidden\r\n    white-space: nowrap\r\n    -webkit-overflow-scrolling: touch\r\n\r\n    &::-webkit-scrollbar\r\n        display: none\r\n\r\n.input\r\n    margin-left: 5px\r\n    font-size: 16px\r\n    font-weight: 500\r\n    width: 100%\r\n    box-sizing: border-box\r\n    border: none\r\n    padding: 10px 12px\r\n    color: var(--text)\r\n    border-radius: 40px\r\n    flex: 1 0 0\r\n    background-color: var(--element-background)\r\n\r\n    &:focus\r\n        outline: 0 !important\r\n\r\n.button\r\n    @include reset\r\n    padding: 8px\r\n    margin-left: 6px\r\n    margin-right: 5px\r\n    border-radius: 50%\r\n    cursor: pointer\r\n    background-color: var(--element-background)\r\n    color: var(--text)\r\n    font-size: 24px\r\n    display: flex\r\n\r\n    &:focus\r\n        outline: 0 !important\r\n\r\n    &.mic_active\r\n        background-color: #F44336\r\n        color: white\r\n</style>\r\n\r\n<script>\r\nimport AudioRecorder from \"audio-recorder-polyfill\";\r\nimport * as hark from \"hark\";\r\nwindow.MediaRecorder = AudioRecorder;\r\n\r\nexport default {\r\n  name: \"ChatInput\",\r\n  data() {\r\n    return {\r\n      query: \"\",\r\n      microphone: false,\r\n      recognition: null,\r\n      recorder: null,\r\n      should_listen: false,\r\n    };\r\n  },\r\n  computed: {\r\n    microphone_supported() {\r\n      return (\r\n        window.webkitSpeechRecognition ||\r\n        window.SpeechRecognition ||\r\n        !window.MediaRecorder.notSupported\r\n      );\r\n    },\r\n  },\r\n  watch: {\r\n    /* Toggle microphone */\r\n    microphone(activate) {\r\n      if (activate) {\r\n        this.should_listen = true;\r\n        if (window.webkitSpeechRecognition || window.SpeechRecognition) {\r\n          this.recognition =\r\n            new window.webkitSpeechRecognition() ||\r\n            new window.SpeechRecognition();\r\n          this.recognition.interimResults = true;\r\n          this.recognition.lang = this.lang();\r\n          this.recognition.onresult = (event) => {\r\n            for (let i = event.resultIndex; i < event.results.length; ++i) {\r\n              this.query = event.results[i][0].transcript; // <- push results to the Text input\r\n            }\r\n          };\r\n          this.recognition.onend = () => {\r\n            this.recognition.stop();\r\n            this.microphone = false;\r\n            this.submit({ text: this.query }); // <- submit the result\r\n          };\r\n          this.recognition.onerror = () => (this.microphone = false);\r\n          this.recognition.start();\r\n        } else if (window.MediaRecorder) {\r\n          if (window.MediaRecorder) {\r\n            navigator.mediaDevices\r\n              .getUserMedia({ audio: true })\r\n              .then((stream) => {\r\n                this.recorder = new window.MediaRecorder(stream);\r\n                this.recorder.addEventListener(\"dataavailable\", (recording) => {\r\n                  const reader = new FileReader();\r\n                  reader.readAsDataURL(recording.data);\r\n                  reader.onloadend = () => {\r\n                    this.submit({\r\n                      audio: reader.result.replace(/^data:.+;base64,/, \"\"),\r\n                    });\r\n                  };\r\n                });\r\n                hark(this.recorder.stream).on(\r\n                  \"stopped_speaking\",\r\n                  () => (this.microphone = false)\r\n                ); // <- Speech end detection\r\n                this.recorder.start();\r\n              })\r\n              .catch(() => (this.microphone = false));\r\n          }\r\n        }\r\n      } else if (this.recognition) this.recognition.abort();\r\n      else if (this.recorder) this.recorder.stop();\r\n    },\r\n  },\r\n  methods: {\r\n    listen() {\r\n      if (this.should_listen) this.microphone = true;\r\n    },\r\n    submit(submission) {\r\n      if (submission.text && submission.text.length > 0) {\r\n        this.$emit(\"submit\", submission);\r\n        this.query = \"\";\r\n      } else if (submission.audio) this.$emit(\"submit\", submission);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/Components/Parts"}]}