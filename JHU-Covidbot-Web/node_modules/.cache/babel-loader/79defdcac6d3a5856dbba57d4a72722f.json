{"remainingRequest":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\src\\Views\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\src\\Views\\App.vue","mtime":1626850555927},{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBXZWxjb21lIGZyb20gIi4vV2VsY29tZS52dWUiOwppbXBvcnQgRXJyb3IgZnJvbSAiQC9Db21wb25lbnRzL1BhcnRzL0Vycm9yLnZ1ZSI7CmltcG9ydCBUb3BIZWFkIGZyb20gIkAvQ29tcG9uZW50cy9QYXJ0cy9Ub3BIZWFkLnZ1ZSI7CmltcG9ydCBDaGF0SW5wdXQgZnJvbSAiQC9Db21wb25lbnRzL1BhcnRzL0NoYXRJbnB1dC52dWUiOwppbXBvcnQgUmljaENvbXBvbmVudCBmcm9tICJAL0NvbXBvbmVudHMvUmljaC9Db21wb25lbnQudnVlIjsKaW1wb3J0IEJ1YmJsZSBmcm9tICJAL0NvbXBvbmVudHMvUmljaC9CdWJibGUudnVlIjsKaW1wb3J0IEJ1YmJsZVdyYXBwZXIgZnJvbSAiQC9Db21wb25lbnRzL1JpY2gvQnViYmxlV3JhcHBlci52dWUiOwppbXBvcnQgQ2FyZCBmcm9tICJAL0NvbXBvbmVudHMvUmljaC9DYXJkLnZ1ZSI7CmltcG9ydCBDYXJkQnV0dG9uIGZyb20gIkAvQ29tcG9uZW50cy9SaWNoL0NhcmRCdXR0b24udnVlIjsKaW1wb3J0IENhcm91c2VsIGZyb20gIkAvQ29tcG9uZW50cy9SaWNoL0Nhcm91c2VsLnZ1ZSI7CmltcG9ydCBMaXN0IGZyb20gIkAvQ29tcG9uZW50cy9SaWNoL0xpc3QudnVlIjsKaW1wb3J0IExpc3RJdGVtIGZyb20gIkAvQ29tcG9uZW50cy9SaWNoL0xpc3RJdGVtLnZ1ZSI7CmltcG9ydCBQaWN0dXJlIGZyb20gIkAvQ29tcG9uZW50cy9SaWNoL1BpY3R1cmUudnVlIjsKaW1wb3J0IE1lZGlhIGZyb20gIkAvQ29tcG9uZW50cy9SaWNoL01lZGlhLnZ1ZSI7CmltcG9ydCBUYWJsZUNhcmQgZnJvbSAiQC9Db21wb25lbnRzL1JpY2gvVGFibGVDYXJkLnZ1ZSI7CmltcG9ydCBTdWdnZXN0aW9uIGZyb20gIkAvQ29tcG9uZW50cy9SaWNoL1N1Z2dlc3Rpb24udnVlIjsKaW1wb3J0ICogYXMgdXVpZHYxIGZyb20gInV1aWQvdjEiOwppbXBvcnQgeyBDbGllbnQgfSBmcm9tICJkaWFsb2dmbG93LWdhdGV3YXkiOwoKZnVuY3Rpb24gdXJsaWZ5KHRleHQpIHsKICB2YXIgdXJsUmVnZXggPSAvKFxiKGh0dHBzP3xmdHB8ZmlsZSk6XC9cL1stQS1aMC05KyZAI1wvJT89fl98ITosLjtdKlstQS1aMC05KyZAI1wvJT1+X3xdKS9naTsKICByZXR1cm4gdGV4dC5yZXBsYWNlKHVybFJlZ2V4LCBmdW5jdGlvbiAodXJsKSB7CiAgICByZXR1cm4gJzxhIGNsYXNzPSJiIiBocmVmPSInICsgdXJsICsgJyIgdGFyZ2V0PSJfYmxhbmsiPicgKyB1cmwgKyAiPC9hPiI7CiAgfSk7IC8vIG9yIGFsdGVybmF0aXZlbHkKICAvLyByZXR1cm4gdGV4dC5yZXBsYWNlKHVybFJlZ2V4LCAnPGEgaHJlZj0iJDEiPiQxPC9hPicpCn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKICBjb21wb25lbnRzOiB7CiAgICBXZWxjb21lOiBXZWxjb21lLAogICAgRXJyb3I6IEVycm9yLAogICAgVG9wSGVhZDogVG9wSGVhZCwKICAgIENoYXRJbnB1dDogQ2hhdElucHV0LAogICAgUmljaENvbXBvbmVudDogUmljaENvbXBvbmVudCwKICAgIEJ1YmJsZTogQnViYmxlLAogICAgQnViYmxlV3JhcHBlcjogQnViYmxlV3JhcHBlciwKICAgIENhcmQ6IENhcmQsCiAgICBDYXJkQnV0dG9uOiBDYXJkQnV0dG9uLAogICAgQ2Fyb3VzZWw6IENhcm91c2VsLAogICAgTGlzdDogTGlzdCwKICAgIExpc3RJdGVtOiBMaXN0SXRlbSwKICAgIFBpY3R1cmU6IFBpY3R1cmUsCiAgICBNZWRpYTogTWVkaWEsCiAgICBUYWJsZUNhcmQ6IFRhYmxlQ2FyZCwKICAgIFN1Z2dlc3Rpb246IFN1Z2dlc3Rpb24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhcHA6IG51bGwsCiAgICAgIG1lc3NhZ2VzOiBbXSwKICAgICAgbGFuZ3VhZ2U6ICIiLAogICAgICBzZXNzaW9uOiAiIiwKICAgICAgbXV0ZWQ6IHRydWUsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgY2xpZW50OiBuZXcgbmV3IENsaWVudCh0aGlzLmNvbmZpZy5lbmRwb2ludCkuY29ubmVjdCgpCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8qIFRoZSBjb2RlIGJlbG93IGlzIHVzZWQgdG8gZXh0cmFjdCBzdWdnZXN0aW9ucyBmcm9tIGxhc3QgbWVzc2FnZSwgdG8gZGlzcGxheSBpdCBvbiBDaGF0SW5wdXQgKi8KICAgIHN1Z2dlc3Rpb25zOiBmdW5jdGlvbiBzdWdnZXN0aW9ucygpIHsKICAgICAgaWYgKHRoaXMubWVzc2FnZXMubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBsYXN0X21lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzW3RoaXMubWVzc2FnZXMubGVuZ3RoIC0gMV07CiAgICAgICAgdmFyIHN1Z2dlc3Rpb25zID0gW107CiAgICAgICAgLyogRGlhbG9nZmxvdyBTdWdnZXN0aW9ucyAqLwoKICAgICAgICBmb3IgKHZhciBjb21wb25lbnQgaW4gbGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXMpIHsKICAgICAgICAgIGlmIChsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnN1Z2dlc3Rpb25zKSBzdWdnZXN0aW9ucy50ZXh0X3N1Z2dlc3Rpb25zID0gbGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS5zdWdnZXN0aW9ucy5zdWdnZXN0aW9ucy5tYXAoZnVuY3Rpb24gKHN1Z2dlc3Rpb24pIHsKICAgICAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb24udGl0bGU7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLmxpbmtPdXRTdWdnZXN0aW9uKSBzdWdnZXN0aW9ucy5saW5rX3N1Z2dlc3Rpb24gPSBsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLmxpbmtPdXRTdWdnZXN0aW9uOwogICAgICAgICAgaWYgKGxhc3RfbWVzc2FnZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0ucXVpY2tSZXBsaWVzKSBzdWdnZXN0aW9ucy50ZXh0X3N1Z2dlc3Rpb25zID0gbGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS5xdWlja1JlcGxpZXMucXVpY2tSZXBsaWVzOwogICAgICAgIH0KICAgICAgICAvKiBHb29nbGUgU3VnZ2VzdGlvbnMgKi8KCgogICAgICAgIGlmIChsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQgJiYgbGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZSkgewogICAgICAgICAgZm9yICh2YXIgX2NvbXBvbmVudCBpbiBsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQuZ29vZ2xlKSB7CiAgICAgICAgICAgIGlmIChsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQuZ29vZ2xlW19jb21wb25lbnRdLnN1Z2dlc3Rpb25zKSBzdWdnZXN0aW9ucy50ZXh0X3N1Z2dlc3Rpb25zID0gbGFzdF9tZXNzYWdlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZVtfY29tcG9uZW50XS5zdWdnZXN0aW9ucy5tYXAoZnVuY3Rpb24gKHN1Z2dlc3Rpb24pIHsKICAgICAgICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbi50aXRsZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQuZ29vZ2xlW19jb21wb25lbnRdLmxpbmtPdXRTdWdnZXN0aW9uKSBzdWdnZXN0aW9ucy5saW5rX3N1Z2dlc3Rpb24gPSBsYXN0X21lc3NhZ2UucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQuZ29vZ2xlW19jb21wb25lbnRdLmxpbmtPdXRTdWdnZXN0aW9uOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb25zOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHRleHRfc3VnZ2VzdGlvbnM6IHRoaXMuY29uZmlnLnN0YXJ0X3N1Z2dlc3Rpb25zIC8vIDwtIGlmIG5vIG1lc3NhZ2VzIGFyZSBwcmVzZW50LCByZXR1cm4gc3RhcnRfc3VnZ2VzdGlvbnMsIGZyb20gY29uZmlnLmpzIHRvIGhlbHAgdXNlciBmaWd1cmUgb3V0IHdoYXQgaGUgY2FuIGRvIHdpdGggeW91ciBhcHBsaWNhdGlvbgoKICAgICAgfTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvKiBUaGlzIGZ1bmN0aW9uIGlzIHRyaWdnZXJlZCwgd2hlbiBuZXcgbWVzc2FnZXMgYXJyaXZlICovCiAgICBtZXNzYWdlczogZnVuY3Rpb24gbWVzc2FnZXMoX21lc3NhZ2VzKSB7CiAgICAgIGlmICh0aGlzLmhpc3RvcnkoKSkgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgibWVzc2FnZV9oaXN0b3J5IiwgSlNPTi5zdHJpbmdpZnkoX21lc3NhZ2VzKSk7IC8vIDwtIFNhdmUgaGlzdG9yeSBpZiB0aGUgZmVhdHVyZSBpcyBlbmFibGVkCiAgICB9LAoKICAgIC8qIFRoaXMgZnVuY3Rpb24gaXMgdHJpZ2dlcmVkLCB3aGVuIHJlcXVlc3QgaXMgc3RhcnRlZCBvciBmaW5pc2hlZCAqLwogICAgbG9hZGluZzogZnVuY3Rpb24gbG9hZGluZygpIHsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGFwcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNhcHAiKTsgLy8gPC0gV2UgbmVlZCB0byBzY3JvbGwgZG93biAjYXBwLCB0byBwcmV2ZW50IHRoZSB3aG9sZSBwYWdlIGp1bXBpbmcgdG8gYm90dG9tLCB3aGVuIHVzaW5nIGluIGlmcmFtZQoKICAgICAgICBpZiAoYXBwLnF1ZXJ5U2VsZWN0b3IoIiNtZXNzYWdlIikpIHsKICAgICAgICAgIHZhciBtZXNzYWdlID0gYXBwLnF1ZXJ5U2VsZWN0b3JBbGwoIiNtZXNzYWdlIilbYXBwLnF1ZXJ5U2VsZWN0b3JBbGwoIiNtZXNzYWdlIikubGVuZ3RoIC0gMV0ub2Zmc2V0VG9wIC0gNjg7CiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgICAgICB0b3A6IG1lc3NhZ2UsCiAgICAgICAgICAgIGJlaGF2aW9yOiAic21vb3RoIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCAyKTsgLy8gPC0gd2FpdCBmb3IgcmVuZGVyICh0aW1lb3V0KSBhbmQgdGhlbiBzbW9vdGhseSBzY3JvbGwgI2FwcCBkb3duIHRvIHRoZSBsYXN0IG1lc3NhZ2UKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvKiBJZiBoaXN0b3J5IGlzIGVuYWJsZWQsIHRoZSBtZXNzYWdlcyBhcmUgcmV0cmlldmVkIGZyb20gc2Vzc2lvblN0b3JhZ2UgKi8KICAgIGlmICh0aGlzLmhpc3RvcnkoKSAmJiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJtZXNzYWdlX2hpc3RvcnkiKSAhPT0gbnVsbCkgewogICAgICB0aGlzLm1lc3NhZ2VzID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJtZXNzYWdlX2hpc3RvcnkiKSk7CiAgICB9CiAgICAvKiBTZXNzaW9uIHNob3VsZCBiZSBwZXJzaXN0ZW50IChpbiBjYXNlIG9mIHBhZ2UgcmVsb2FkLCB0aGUgY29udGV4dCBzaG91bGQgc3RheSkgKi8KCgogICAgaWYgKHRoaXMuaGlzdG9yeSgpICYmIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInNlc3Npb24iKSAhPT0gbnVsbCkgewogICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJzZXNzaW9uIik7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnNlc3Npb24gPSB1dWlkdjEoKTsKICAgICAgaWYgKHRoaXMuaGlzdG9yeSgpKSBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJzZXNzaW9uIiwgdGhpcy5zZXNzaW9uKTsKICAgIH0KICAgIC8qIENhY2hlIEFnZW50ICh0aGlzIHdpbGwgc2F2ZSBiYW5kd2l0aCkgKi8KCgogICAgaWYgKHRoaXMuaGlzdG9yeSgpICYmIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFnZW50IikgIT09IG51bGwpIHsKICAgICAgdGhpcy5hcHAgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFnZW50IikpOwogICAgfSBlbHNlIHt9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kOiBmdW5jdGlvbiBzZW5kKHN1Ym1pc3Npb24pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciByZXF1ZXN0OwogICAgICAvKiBUZXh0IHJlcXVlc3QgKi8KCiAgICAgIGlmIChzdWJtaXNzaW9uLnRleHQpIHsKICAgICAgICByZXF1ZXN0ID0gewogICAgICAgICAgc2Vzc2lvbjogdGhpcy5zZXNzaW9uLAogICAgICAgICAgcXVlcnlJbnB1dDogewogICAgICAgICAgICB0ZXh0OiB7CiAgICAgICAgICAgICAgdGV4dDogc3VibWlzc2lvbi50ZXh0LAogICAgICAgICAgICAgIGxhbmd1YWdlQ29kZTogdGhpcy5sYW5nKCkKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0gZWxzZSBpZiAoc3VibWlzc2lvbi5hdWRpbykgewogICAgICAgIC8qIEF1ZGlvIHJlcXVlc3QgKi8KICAgICAgICByZXF1ZXN0ID0gewogICAgICAgICAgc2Vzc2lvbjogdGhpcy5zZXNzaW9uLAogICAgICAgICAgcXVlcnlJbnB1dDogewogICAgICAgICAgICBhdWRpb0NvbmZpZzogewogICAgICAgICAgICAgIGF1ZGlvRW5jb2Rpbmc6ICJBVURJT19FTkNPRElOR19VTlNQRUNJRklFRCIsCiAgICAgICAgICAgICAgbGFuZ3VhZ2VDb2RlOiB0aGlzLmxhbmcoKQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgaW5wdXRBdWRpbzogc3VibWlzc2lvbi5hdWRpbwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgICAvKiBNYWtlIHRoZSByZXF1ZXN0IHRvIGdhdGV3YXkgKi8KCiAgICAgIHRoaXMuY2xpZW50LnNlbmQocmVxdWVzdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRUZXh0KSB7CiAgICAgICAgICByZXNwb25zZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudFRleHQgPSB1cmxpZnkocmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRUZXh0KTsKICAgICAgICB9CgogICAgICAgIF90aGlzLm1lc3NhZ2VzLnB1c2gocmVzcG9uc2UpOwoKICAgICAgICBfdGhpcy5oYW5kbGUocmVzcG9uc2UpOyAvLyA8LSB0cmlnZ2VyIHRoZSBoYW5kbGUgZnVuY3Rpb24gKGV4cGxhbmF0aW9uIGJlbG93KQoKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuZXJyb3IgPSBlcnJvci5tZXNzYWdlOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGU6IGZ1bmN0aW9uIGhhbmRsZShyZXNwb25zZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8qIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBmb3Igc3BlZWNoIG91dHB1dCAqLwogICAgICBpZiAocmVzcG9uc2Uub3V0cHV0QXVkaW8pIHsKICAgICAgICB2YXIgb3V0cHV0ID0gbmV3IEF1ZGlvKCJkYXRhOmF1ZGlvL21wMztiYXNlNjQsIi5jb25jYXQocmVzcG9uc2Uub3V0cHV0QXVkaW8pKTsKCiAgICAgICAgb3V0cHV0Lm9uZW5kZWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLiRyZWZzLmlucHV0Lmxpc3RlbigpOwogICAgICAgIH07CgogICAgICAgIGlmICghdGhpcy5tdXRlZCkgb3V0cHV0LnBsYXkoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdGV4dDsgLy8gPC0gaW5pdCBhIHRleHQgdmFyaWFibGUKCiAgICAgICAgLyogRGlhbG9nZmxvdyBUZXh0L1NpbXBsZVJlc3BvbnNlcyAqLwoKICAgICAgICBmb3IgKHZhciBjb21wb25lbnQgaW4gcmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlcykgewogICAgICAgICAgaWYgKHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS50ZXh0KSB0ZXh0ID0gcmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnRleHQudGV4dFswXTsKICAgICAgICAgIGlmIChyZXNwb25zZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0uc2ltcGxlUmVzcG9uc2VzKSB0ZXh0ID0gcmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnNpbXBsZVJlc3BvbnNlcy5zaW1wbGVSZXNwb25zZXNbMF0udGV4dFRvU3BlZWNoOwogICAgICAgIH0KICAgICAgICAvKiBBY3Rpb25zIG9uIEdvb2dsZSBTaW1wbGUgcmVzcG9uc2UgKi8KCgogICAgICAgIGlmIChyZXNwb25zZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZCAmJiByZXNwb25zZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGUpIHsKICAgICAgICAgIGZvciAodmFyIF9jb21wb25lbnQyIGluIHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2UucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQuZ29vZ2xlW19jb21wb25lbnQyXS5zaW1wbGVSZXNwb25zZSkgdGV4dCA9IHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZVtfY29tcG9uZW50Ml0uc2ltcGxlUmVzcG9uc2UudGV4dFRvU3BlZWNoOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIHNwZWVjaCA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UodGV4dCk7CiAgICAgICAgc3BlZWNoLnZvaWNlVVJJID0gdGhpcy5jb25maWcudm9pY2U7CiAgICAgICAgc3BlZWNoLmxhbmcgPSB0aGlzLmxhbmcoKTsKCiAgICAgICAgc3BlZWNoLm9uZW5kID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi4kcmVmcy5pbnB1dC5saXN0ZW4oKTsKICAgICAgICB9OwoKICAgICAgICBpZiAoIXRoaXMubXV0ZWQpIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuc3BlYWsoc3BlZWNoKTsgLy8gPC0gaWYgYXBwIGlzIG5vdCBtdXRlZCwgc3BlYWsgb3V0IHRoZSBzcGVlY2gKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <main id=\"app\">\r\n    <!-- TopHead is the header with the information about the app -->\r\n    <TopHead>\r\n      <!-- Audio toggle (on the top right corner), used to toggle the audio output, default mode is defined in the settings -->\r\n      <!--<button\r\n        class=\"audio-toggle\"\r\n        :title=\"\r\n          muted\r\n            ? (translations[lang()] && translations[lang()].unMuteTitle) ||\r\n              translations[config.fallback_lang].unMuteTitle\r\n            : (translations[lang()] && translations[lang()].muteTitle) ||\r\n              translations[config.fallback_lang].muteTitle\r\n        \"\r\n        :aria-label=\"\r\n          muted\r\n            ? (translations[lang()] && translations[lang()].unMuteTitle) ||\r\n              translations[config.fallback_lang].unMuteTitle\r\n            : (translations[lang()] && translations[lang()].muteTitle) ||\r\n              translations[config.fallback_lang].muteTitle\r\n        \"\r\n        @click=\"muted = !muted\"\r\n      >\r\n        <i aria-hidden=\"true\" class=\"material-icons\">{{\r\n          muted ? \"volume_off\" : \"volume_up\"\r\n        }}</i>\r\n      </button>-->\r\n    </TopHead>\r\n\r\n    <section class=\"container chat-container\">\r\n      <Error v-if=\"error\" :error=\"error\" />\r\n\r\n      <RichComponent>\r\n        <Bubble\r\n          :text=\"'Test'\"\r\n        />\r\n      </RichComponent>\r\n      <!-- Messages Table -->\r\n      <section v-if=\"messages\" aria-live=\"polite\">\r\n        <div v-for=\"message in messages\" id=\"message\" :key=\"message.responseId\">\r\n          <!-- My message -->\r\n          <BubbleWrapper\r\n            ><Bubble\r\n              v-if=\"message.queryResult.queryText\"\r\n              :text=\"message.queryResult.queryText\"\r\n              me\r\n          /></BubbleWrapper>\r\n\r\n          <!-- Fulfillment text -->\r\n          <RichComponent>\r\n            <Bubble\r\n              v-if=\"message.queryResult.fulfillmentText\"\r\n              :text=\"message.queryResult.fulfillmentText\"\r\n            />\r\n          </RichComponent>\r\n\r\n          <!-- Dialogflow Components -->\r\n          <RichComponent\r\n            v-for=\"(component, component_id) in message.queryResult\r\n              .fulfillmentMessages\"\r\n            :key=\"component_id\"\r\n          >\r\n            <!-- ListSelect (https://cloud.google.com/dialogflow/docs/reference/rest/v2beta1/projects.agent.intents#ListSelect) -->\r\n            <List\r\n              v-if=\"component.listSelect\"\r\n              :title=\"component.listSelect.title\"\r\n              :subtitle=\"component.listSelect.subtitle\"\r\n            >\r\n              <ListItem\r\n                v-for=\"item in component.listSelect.items\"\r\n                :key=\"item.info.key\"\r\n                :title=\"item.title\"\r\n                :description=\"item.description\"\r\n                :image-uri=\"item.image.imageUri\"\r\n                :image-title=\"item.image.accessibilityText\"\r\n                @click.native=\"send({ text: item.info.key })\"\r\n              />\r\n            </List>\r\n          </RichComponent>\r\n\r\n          <!-- Actions on Google Components -->\r\n          <section\r\n            v-if=\"\r\n              message.queryResult.webhookPayload &&\r\n              message.queryResult.webhookPayload.google\r\n            \"\r\n          >\r\n            <RichComponent\r\n              v-for=\"(component, component_id) in message.queryResult\r\n                .webhookPayload.google.richResponse.items\"\r\n              :key=\"component_id\"\r\n            >\r\n              <!-- List (https://developers.google.com/actions/assistant/responses#list) -->\r\n              <List\r\n                v-if=\"component.listSelect\"\r\n                :title=\"component.listSelect.title\"\r\n                :subtitle=\"component.listSelect.subtitle\"\r\n              >\r\n                <ListItem\r\n                  v-for=\"item in component.listSelect.items\"\r\n                  :key=\"item.info.key\"\r\n                  :title=\"item.title\"\r\n                  :description=\"item.description\"\r\n                  :image-uri=\"item.image.url\"\r\n                  :image-title=\"item.image.accessibilityText\"\r\n                  @click.native=\"send({ text: item.info.key })\"\r\n                />\r\n              </List>\r\n            </RichComponent>\r\n\r\n            <!-- Visual Selection Responses (https://developers.google.com/actions/assistant/responses#visual_selection_responses) -->\r\n            <RichComponent\r\n              v-for=\"(component, component_id) in message.queryResult\r\n                .webhookPayload.google.systemIntent\"\r\n              :key=\"component_id\"\r\n            >\r\n              <!-- List (https://developers.google.com/actions/assistant/responses#list) -->\r\n              <List\r\n                v-if=\"component.listSelect\"\r\n                :title=\"component.listSelect.title\"\r\n                :subtitle=\"component.listSelect.subtitle\"\r\n              >\r\n                <ListItem\r\n                  v-for=\"item in component.listSelect.items\"\r\n                  :key=\"item.optionInfo.key\"\r\n                  :title=\"item.title\"\r\n                  :description=\"item.description\"\r\n                  :image-uri=\"item.image.url\"\r\n                  :image-title=\"item.image.accessibilityText\"\r\n                  @click.native=\"send({ text: item.optionInfo.key })\"\r\n                />\r\n              </List>\r\n            </RichComponent>\r\n          </section>\r\n        </div>\r\n        <div v-if=\"loading\" id=\"message\">\r\n          <!-- My message (Loading) -->\r\n          <BubbleWrapper\r\n            ><Bubble me loading aria-hidden=\"true\"\r\n          /></BubbleWrapper>\r\n\r\n          <!-- Default / Webhook bubble (Loading) -->\r\n          <Bubble loading aria-hidden=\"true\" />\r\n        </div>\r\n      </section>\r\n    </section>\r\n\r\n    <!-- ChatInput is made for submitting queries and displaying suggestions -->\r\n    <ChatInput ref=\"input\" @submit=\"send\">\r\n      <!-- Suggestion chips\r\n                https://developers.google.com/actions/assistant/responses#suggestion_chips\r\n                https://cloud.google.com/dialogflow/docs/reference/rest/v2beta1/projects.agent.intents#QuickReplies\r\n                https://cloud.google.com/dialogflow/docs/reference/rest/v2beta1/projects.agent.intents#Suggestions\r\n            -->\r\n      <Suggestion\r\n        v-for=\"(suggestion, suggestion_id) in suggestions.text_suggestions\"\r\n        :key=\"suggestion_id\"\r\n        :title=\"suggestion\"\r\n        @click.native=\"send({ text: suggestion })\"\r\n      />\r\n\r\n      <!-- Link suggestion chips\r\n                https://developers.google.com/actions/assistant/responses#suggestion_chips\r\n                https://cloud.google.com/dialogflow/docs/reference/rest/v2beta1/projects.agent.intents#LinkOutSuggestion\r\n            -->\r\n      <Suggestion\r\n        v-if=\"suggestions.link_suggestion\"\r\n        :title=\"suggestions.link_suggestion.destinationName\"\r\n        :url=\"\r\n          suggestions.link_suggestion.uri || suggestions.link_suggestion.url\r\n        \"\r\n      />\r\n    </ChatInput>\r\n  </main>\r\n</template>\r\n\r\n<style lang=\"sass\">\r\n@import '@/Style/Theme.sass'\r\n\r\nbody\r\n    margin: 0\r\n    padding: 0\r\n    font-family: var(--font)\r\n    font-display: swap\r\n    background-color: var(--background)\r\n\r\n.container\r\n    max-width: 500px\r\n    margin-left: auto\r\n    margin-right: auto\r\n    padding: 12px\r\n    position: relative\r\n</style>\r\n\r\n<style lang=\"sass\" scoped>\r\n.chat-container\r\n    padding-top: 70px\r\n    padding-bottom: 125px\r\n</style>\r\n\r\n<script>\r\nimport Welcome from \"./Welcome.vue\";\r\n\r\nimport Error from \"@/Components/Parts/Error.vue\";\r\nimport TopHead from \"@/Components/Parts/TopHead.vue\";\r\nimport ChatInput from \"@/Components/Parts/ChatInput.vue\";\r\n\r\nimport RichComponent from \"@/Components/Rich/Component.vue\";\r\nimport Bubble from \"@/Components/Rich/Bubble.vue\";\r\nimport BubbleWrapper from \"@/Components/Rich/BubbleWrapper.vue\";\r\nimport Card from \"@/Components/Rich/Card.vue\";\r\nimport CardButton from \"@/Components/Rich/CardButton.vue\";\r\nimport Carousel from \"@/Components/Rich/Carousel.vue\";\r\nimport List from \"@/Components/Rich/List.vue\";\r\nimport ListItem from \"@/Components/Rich/ListItem.vue\";\r\nimport Picture from \"@/Components/Rich/Picture.vue\";\r\nimport Media from \"@/Components/Rich/Media.vue\";\r\nimport TableCard from \"@/Components/Rich/TableCard.vue\";\r\nimport Suggestion from \"@/Components/Rich/Suggestion.vue\";\r\n\r\nimport * as uuidv1 from \"uuid/v1\";\r\n\r\nimport { Client } from \"dialogflow-gateway\";\r\n\r\nfunction urlify(text) {\r\n  var urlRegex = /(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gi;\r\n  return text.replace(urlRegex, function (url) {\r\n    return '<a class=\"b\" href=\"' + url + '\" target=\"_blank\">' + url + \"</a>\";\r\n  });\r\n  // or alternatively\r\n  // return text.replace(urlRegex, '<a href=\"$1\">$1</a>')\r\n}\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    Welcome,\r\n    Error,\r\n    TopHead,\r\n    ChatInput,\r\n    RichComponent,\r\n    Bubble,\r\n    BubbleWrapper,\r\n    Card,\r\n    CardButton,\r\n    Carousel,\r\n    List,\r\n    ListItem,\r\n    Picture,\r\n    Media,\r\n    TableCard,\r\n    Suggestion,\r\n  },\r\n  data() {\r\n    return {\r\n      app: null,\r\n      messages: [],\r\n      language: \"\",\r\n      session: \"\",\r\n      muted: true,\r\n      loading: false,\r\n      error: null,\r\n      client: new new Client(this.config.endpoint).connect(),\r\n    };\r\n  },\r\n  computed: {\r\n    /* The code below is used to extract suggestions from last message, to display it on ChatInput */\r\n    suggestions() {\r\n      if (this.messages.length > 0) {\r\n        const last_message = this.messages[this.messages.length - 1];\r\n        const suggestions = [];\r\n\r\n        /* Dialogflow Suggestions */\r\n        for (const component in last_message.queryResult.fulfillmentMessages) {\r\n          if (\r\n            last_message.queryResult.fulfillmentMessages[component].suggestions\r\n          )\r\n            suggestions.text_suggestions = last_message.queryResult.fulfillmentMessages[\r\n              component\r\n            ].suggestions.suggestions.map((suggestion) => suggestion.title);\r\n          if (\r\n            last_message.queryResult.fulfillmentMessages[component]\r\n              .linkOutSuggestion\r\n          )\r\n            suggestions.link_suggestion =\r\n              last_message.queryResult.fulfillmentMessages[\r\n                component\r\n              ].linkOutSuggestion;\r\n          if (\r\n            last_message.queryResult.fulfillmentMessages[component].quickReplies\r\n          )\r\n            suggestions.text_suggestions =\r\n              last_message.queryResult.fulfillmentMessages[\r\n                component\r\n              ].quickReplies.quickReplies;\r\n        }\r\n\r\n        /* Google Suggestions */\r\n        if (\r\n          last_message.queryResult.webhookPayload &&\r\n          last_message.queryResult.webhookPayload.google\r\n        ) {\r\n          for (const component in last_message.queryResult.webhookPayload\r\n            .google) {\r\n            if (\r\n              last_message.queryResult.webhookPayload.google[component]\r\n                .suggestions\r\n            )\r\n              suggestions.text_suggestions = last_message.queryResult.webhookPayload.google[\r\n                component\r\n              ].suggestions.map((suggestion) => suggestion.title);\r\n            if (\r\n              last_message.queryResult.webhookPayload.google[component]\r\n                .linkOutSuggestion\r\n            )\r\n              suggestions.link_suggestion =\r\n                last_message.queryResult.webhookPayload.google[\r\n                  component\r\n                ].linkOutSuggestion;\r\n          }\r\n        }\r\n\r\n        return suggestions;\r\n      }\r\n\r\n      return {\r\n        text_suggestions: this.config.start_suggestions, // <- if no messages are present, return start_suggestions, from config.js to help user figure out what he can do with your application\r\n      };\r\n    },\r\n  },\r\n  watch: {\r\n    /* This function is triggered, when new messages arrive */\r\n    messages(messages) {\r\n      if (this.history())\r\n        sessionStorage.setItem(\"message_history\", JSON.stringify(messages)); // <- Save history if the feature is enabled\r\n    },\r\n    /* This function is triggered, when request is started or finished */\r\n    loading() {\r\n      setTimeout(() => {\r\n        const app = document.querySelector(\"#app\"); // <- We need to scroll down #app, to prevent the whole page jumping to bottom, when using in iframe\r\n        if (app.querySelector(\"#message\")) {\r\n          const message =\r\n            app.querySelectorAll(\"#message\")[\r\n              app.querySelectorAll(\"#message\").length - 1\r\n            ].offsetTop - 68;\r\n          window.scrollTo({ top: message, behavior: \"smooth\" });\r\n        }\r\n      }, 2); // <- wait for render (timeout) and then smoothly scroll #app down to the last message\r\n    },\r\n  },\r\n  created() {\r\n    /* If history is enabled, the messages are retrieved from sessionStorage */\r\n    if (this.history() && sessionStorage.getItem(\"message_history\") !== null) {\r\n      this.messages = JSON.parse(sessionStorage.getItem(\"message_history\"));\r\n    }\r\n\r\n    /* Session should be persistent (in case of page reload, the context should stay) */\r\n    if (this.history() && sessionStorage.getItem(\"session\") !== null) {\r\n      this.session = sessionStorage.getItem(\"session\");\r\n    } else {\r\n      this.session = uuidv1();\r\n      if (this.history()) sessionStorage.setItem(\"session\", this.session);\r\n    }\r\n\r\n    /* Cache Agent (this will save bandwith) */\r\n    if (this.history() && sessionStorage.getItem(\"agent\") !== null) {\r\n      this.app = JSON.parse(sessionStorage.getItem(\"agent\"));\r\n    } else {\r\n    }\r\n  },\r\n  methods: {\r\n    send(submission) {\r\n      let request;\r\n\r\n      /* Text request */\r\n      if (submission.text) {\r\n        request = {\r\n          session: this.session,\r\n          queryInput: {\r\n            text: {\r\n              text: submission.text,\r\n              languageCode: this.lang(),\r\n            },\r\n          },\r\n        };\r\n      } else if (submission.audio) {\r\n\r\n      /* Audio request */\r\n        request = {\r\n          session: this.session,\r\n          queryInput: {\r\n            audioConfig: {\r\n              audioEncoding: \"AUDIO_ENCODING_UNSPECIFIED\",\r\n              languageCode: this.lang(),\r\n            },\r\n          },\r\n          inputAudio: submission.audio,\r\n        };\r\n      }\r\n\r\n      this.loading = true;\r\n      this.error = null;\r\n\r\n      /* Make the request to gateway */\r\n      this.client\r\n        .send(request)\r\n        .then((response) => {\r\n          if (response.queryResult.fulfillmentText) {\r\n            response.queryResult.fulfillmentText = urlify(\r\n              response.queryResult.fulfillmentText\r\n            );\r\n          }\r\n          this.messages.push(response);\r\n          this.handle(response); // <- trigger the handle function (explanation below)\r\n        })\r\n        .catch((error) => {\r\n          this.error = error.message;\r\n        })\r\n        .then(() => (this.loading = false));\r\n    },\r\n    handle(response) {\r\n      /* This function is used for speech output */\r\n      if (response.outputAudio) {\r\n        const output = new Audio(\r\n          `data:audio/mp3;base64,${response.outputAudio}`\r\n        );\r\n        output.onended = () => this.$refs.input.listen();\r\n\r\n        if (!this.muted) output.play();\r\n      } else {\r\n        let text; // <- init a text variable\r\n\r\n        /* Dialogflow Text/SimpleResponses */\r\n        for (const component in response.queryResult.fulfillmentMessages) {\r\n          if (response.queryResult.fulfillmentMessages[component].text)\r\n            text =\r\n              response.queryResult.fulfillmentMessages[component].text.text[0];\r\n          if (\r\n            response.queryResult.fulfillmentMessages[component].simpleResponses\r\n          )\r\n            text =\r\n              response.queryResult.fulfillmentMessages[component]\r\n                .simpleResponses.simpleResponses[0].textToSpeech;\r\n        }\r\n\r\n        /* Actions on Google Simple response */\r\n        if (\r\n          response.queryResult.webhookPayload &&\r\n          response.queryResult.webhookPayload.google\r\n        ) {\r\n          for (const component in response.queryResult.webhookPayload.google) {\r\n            if (\r\n              response.queryResult.webhookPayload.google[component]\r\n                .simpleResponse\r\n            )\r\n              text =\r\n                response.queryResult.webhookPayload.google[component]\r\n                  .simpleResponse.textToSpeech;\r\n          }\r\n        }\r\n\r\n        const speech = new SpeechSynthesisUtterance(text);\r\n        speech.voiceURI = this.config.voice;\r\n        speech.lang = this.lang();\r\n        speech.onend = () => this.$refs.input.listen();\r\n\r\n        if (!this.muted) window.speechSynthesis.speak(speech); // <- if app is not muted, speak out the speech\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/Views"}]}