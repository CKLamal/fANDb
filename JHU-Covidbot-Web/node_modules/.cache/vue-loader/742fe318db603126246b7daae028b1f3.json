{"remainingRequest":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\src\\Views\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\src\\Views\\App.vue","mtime":1632717241638},{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\cklam\\Documents\\JHU-Covidbot-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgV2VsY29tZSBmcm9tICIuL1dlbGNvbWUudnVlIjsNCg0KaW1wb3J0IEVycm9yIGZyb20gIkAvQ29tcG9uZW50cy9QYXJ0cy9FcnJvci52dWUiOw0KaW1wb3J0IFRvcEhlYWQgZnJvbSAiQC9Db21wb25lbnRzL1BhcnRzL1RvcEhlYWQudnVlIjsNCmltcG9ydCBDaGF0SW5wdXQgZnJvbSAiQC9Db21wb25lbnRzL1BhcnRzL0NoYXRJbnB1dC52dWUiOw0KDQppbXBvcnQgUmljaENvbXBvbmVudCBmcm9tICJAL0NvbXBvbmVudHMvUmljaC9Db21wb25lbnQudnVlIjsNCmltcG9ydCBCdWJibGUgZnJvbSAiQC9Db21wb25lbnRzL1JpY2gvQnViYmxlLnZ1ZSI7DQppbXBvcnQgQnViYmxlV3JhcHBlciBmcm9tICJAL0NvbXBvbmVudHMvUmljaC9CdWJibGVXcmFwcGVyLnZ1ZSI7DQppbXBvcnQgQ2FyZCBmcm9tICJAL0NvbXBvbmVudHMvUmljaC9DYXJkLnZ1ZSI7DQppbXBvcnQgQ2FyZEJ1dHRvbiBmcm9tICJAL0NvbXBvbmVudHMvUmljaC9DYXJkQnV0dG9uLnZ1ZSI7DQppbXBvcnQgQ2Fyb3VzZWwgZnJvbSAiQC9Db21wb25lbnRzL1JpY2gvQ2Fyb3VzZWwudnVlIjsNCmltcG9ydCBMaXN0IGZyb20gIkAvQ29tcG9uZW50cy9SaWNoL0xpc3QudnVlIjsNCmltcG9ydCBMaXN0SXRlbSBmcm9tICJAL0NvbXBvbmVudHMvUmljaC9MaXN0SXRlbS52dWUiOw0KaW1wb3J0IFBpY3R1cmUgZnJvbSAiQC9Db21wb25lbnRzL1JpY2gvUGljdHVyZS52dWUiOw0KaW1wb3J0IE1lZGlhIGZyb20gIkAvQ29tcG9uZW50cy9SaWNoL01lZGlhLnZ1ZSI7DQppbXBvcnQgVGFibGVDYXJkIGZyb20gIkAvQ29tcG9uZW50cy9SaWNoL1RhYmxlQ2FyZC52dWUiOw0KaW1wb3J0IFN1Z2dlc3Rpb24gZnJvbSAiQC9Db21wb25lbnRzL1JpY2gvU3VnZ2VzdGlvbi52dWUiOw0KDQppbXBvcnQgKiBhcyB1dWlkdjEgZnJvbSAidXVpZC92MSI7DQoNCi8vaW1wb3J0IHsgQ2xpZW50IH0gZnJvbSAiZGlhbG9nZmxvdy1nYXRld2F5IjsNCg0KZnVuY3Rpb24gdXJsaWZ5KHRleHQpIHsNCiAgdmFyIHVybFJlZ2V4ID0gLyhcYihodHRwcz98ZnRwfGZpbGUpOlwvXC9bLUEtWjAtOSsmQCNcLyU/PX5ffCE6LC47XSpbLUEtWjAtOSsmQCNcLyU9fl98XSkvZ2k7DQogIHJldHVybiB0ZXh0LnJlcGxhY2UodXJsUmVnZXgsIGZ1bmN0aW9uICh1cmwpIHsNCiAgICByZXR1cm4gJzxhIGNsYXNzPSJiIiBocmVmPSInICsgdXJsICsgJyIgdGFyZ2V0PSJfYmxhbmsiPicgKyB1cmwgKyAiPC9hPiI7DQogIH0pOw0KICAvLyBvciBhbHRlcm5hdGl2ZWx5DQogIC8vIHJldHVybiB0ZXh0LnJlcGxhY2UodXJsUmVnZXgsICc8YSBocmVmPSIkMSI+JDE8L2E+JykNCn0NCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQXBwIiwNCiAgY29tcG9uZW50czogew0KICAgIFdlbGNvbWUsDQogICAgRXJyb3IsDQogICAgVG9wSGVhZCwNCiAgICBDaGF0SW5wdXQsDQogICAgUmljaENvbXBvbmVudCwNCiAgICBCdWJibGUsDQogICAgQnViYmxlV3JhcHBlciwNCiAgICBDYXJkLA0KICAgIENhcmRCdXR0b24sDQogICAgQ2Fyb3VzZWwsDQogICAgTGlzdCwNCiAgICBMaXN0SXRlbSwNCiAgICBQaWN0dXJlLA0KICAgIE1lZGlhLA0KICAgIFRhYmxlQ2FyZCwNCiAgICBTdWdnZXN0aW9uLA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBhcHA6IG51bGwsDQogICAgICBtZXNzYWdlczogW10sDQogICAgICBsYW5ndWFnZTogIiIsDQogICAgICBzZXNzaW9uOiAiIiwNCiAgICAgIG11dGVkOiB0cnVlLA0KICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICBlcnJvcjogbnVsbCwNCiAgICAgIC8vY2xpZW50OiBuZXcgbmV3IENsaWVudCh0aGlzLmNvbmZpZy5lbmRwb2ludCkuY29ubmVjdCgpLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLyogVGhlIGNvZGUgYmVsb3cgaXMgdXNlZCB0byBleHRyYWN0IHN1Z2dlc3Rpb25zIGZyb20gbGFzdCBtZXNzYWdlLCB0byBkaXNwbGF5IGl0IG9uIENoYXRJbnB1dCAqLw0KICAgIHN1Z2dlc3Rpb25zKCkgew0KICAgICAgaWYgKHRoaXMubWVzc2FnZXMubGVuZ3RoID4gMCkgew0KICAgICAgICBjb25zdCBsYXN0X21lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzW3RoaXMubWVzc2FnZXMubGVuZ3RoIC0gMV07DQogICAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gW107DQoNCiAgICAgICAgLyogRGlhbG9nZmxvdyBTdWdnZXN0aW9ucyAqLw0KICAgICAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBpbiBsYXN0X21lc3NhZ2UuZGF0YS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzKSB7DQogICAgICAgICAgY29uc29sZS5sb2cobGFzdF9tZXNzYWdlLmRhdGEucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdKQ0KICAgICAgICAgIGlmICgNCiAgICAgICAgICAgIGxhc3RfbWVzc2FnZS5kYXRhLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS5zdWdnZXN0aW9ucw0KICAgICAgICAgICkNCiAgICAgICAgICAgIHN1Z2dlc3Rpb25zLnRleHRfc3VnZ2VzdGlvbnMgPSBsYXN0X21lc3NhZ2UuZGF0YS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzWw0KICAgICAgICAgICAgICBjb21wb25lbnQNCiAgICAgICAgICAgIF0uc3VnZ2VzdGlvbnMuc3VnZ2VzdGlvbnMubWFwKChzdWdnZXN0aW9uKSA9PiBzdWdnZXN0aW9uLnRpdGxlKTsNCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICBsYXN0X21lc3NhZ2UuZGF0YS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0NCiAgICAgICAgICAgICAgLmxpbmtPdXRTdWdnZXN0aW9uDQogICAgICAgICAgKQ0KICAgICAgICAgICAgc3VnZ2VzdGlvbnMubGlua19zdWdnZXN0aW9uID0NCiAgICAgICAgICAgICAgbGFzdF9tZXNzYWdlLmRhdGEucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1sNCiAgICAgICAgICAgICAgICBjb21wb25lbnQNCiAgICAgICAgICAgICAgXS5saW5rT3V0U3VnZ2VzdGlvbjsNCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICBsYXN0X21lc3NhZ2UuZGF0YS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0ucXVpY2tSZXBsaWVzDQogICAgICAgICAgKQ0KICAgICAgICAgICAgeyBjb25zb2xlLmxvZygiZW50ZXIgcXVpY2sgcmVwbHkiKQ0KICAgICAgICAgICAgICBzdWdnZXN0aW9ucy50ZXh0X3N1Z2dlc3Rpb25zID0NCiAgICAgICAgICAgICAgbGFzdF9tZXNzYWdlLmRhdGEucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1sNCiAgICAgICAgICAgICAgICBjb21wb25lbnQNCiAgICAgICAgICAgICAgXS5xdWlja1JlcGxpZXMucXVpY2tSZXBsaWVzO30NCiAgICAgICAgfQ0KDQogICAgICAgIC8qIEdvb2dsZSBTdWdnZXN0aW9ucyAqLw0KICAgICAgICBpZiAoDQogICAgICAgICAgbGFzdF9tZXNzYWdlLmRhdGEucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQgJiYNCiAgICAgICAgICBsYXN0X21lc3NhZ2UuZGF0YS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGUNCiAgICAgICAgKSB7DQogICAgICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgaW4gbGFzdF9tZXNzYWdlLmRhdGEucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQNCiAgICAgICAgICAgIC5nb29nbGUpIHsNCiAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgbGFzdF9tZXNzYWdlLmRhdGEucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQuZ29vZ2xlW2NvbXBvbmVudF0NCiAgICAgICAgICAgICAgICAuc3VnZ2VzdGlvbnMNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgc3VnZ2VzdGlvbnMudGV4dF9zdWdnZXN0aW9ucyA9IGxhc3RfbWVzc2FnZS5kYXRhLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZVsNCiAgICAgICAgICAgICAgICBjb21wb25lbnQNCiAgICAgICAgICAgICAgXS5zdWdnZXN0aW9ucy5tYXAoKHN1Z2dlc3Rpb24pID0+IHN1Z2dlc3Rpb24udGl0bGUpOw0KICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICBsYXN0X21lc3NhZ2UuZGF0YS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGVbY29tcG9uZW50XQ0KICAgICAgICAgICAgICAgIC5saW5rT3V0U3VnZ2VzdGlvbg0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICBzdWdnZXN0aW9ucy5saW5rX3N1Z2dlc3Rpb24gPQ0KICAgICAgICAgICAgICAgIGxhc3RfbWVzc2FnZS5kYXRhLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZVsNCiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudA0KICAgICAgICAgICAgICAgIF0ubGlua091dFN1Z2dlc3Rpb247DQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb25zOw0KICAgICAgfQ0KDQogICAgICByZXR1cm4gew0KICAgICAgICB0ZXh0X3N1Z2dlc3Rpb25zOiB0aGlzLmNvbmZpZy5zdGFydF9zdWdnZXN0aW9ucywgLy8gPC0gaWYgbm8gbWVzc2FnZXMgYXJlIHByZXNlbnQsIHJldHVybiBzdGFydF9zdWdnZXN0aW9ucywgZnJvbSBjb25maWcuanMgdG8gaGVscCB1c2VyIGZpZ3VyZSBvdXQgd2hhdCBoZSBjYW4gZG8gd2l0aCB5b3VyIGFwcGxpY2F0aW9uDQogICAgICB9Ow0KICAgIH0sDQogIH0sDQogIHdhdGNoOiB7DQogICAgLyogVGhpcyBmdW5jdGlvbiBpcyB0cmlnZ2VyZWQsIHdoZW4gbmV3IG1lc3NhZ2VzIGFycml2ZSAqLw0KICAgIG1lc3NhZ2VzKG1lc3NhZ2VzKSB7DQogICAgICBjb25zb2xlLmxvZygnZW50ZXIgbWVzc2FnZXMgd2F0Y2ggZnVuY3Rpb24nKTsNCiAgICAgIGlmICh0aGlzLmhpc3RvcnkoKSkNCiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgibWVzc2FnZV9oaXN0b3J5IiwgSlNPTi5zdHJpbmdpZnkobWVzc2FnZXMpKTsgLy8gPC0gU2F2ZSBoaXN0b3J5IGlmIHRoZSBmZWF0dXJlIGlzIGVuYWJsZWQNCiAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2VzKSkNCiAgICAgIGNvbnNvbGUubG9nKCdleGl0IG1lc3NhZ2VzIHdhdGNoIGZ1bmN0aW9uJyk7DQogICAgfSwNCiAgICAvKiBUaGlzIGZ1bmN0aW9uIGlzIHRyaWdnZXJlZCwgd2hlbiByZXF1ZXN0IGlzIHN0YXJ0ZWQgb3IgZmluaXNoZWQgKi8NCiAgICBsb2FkaW5nKCkgew0KICAgICAgY29uc29sZS5sb2coJ2VudGVyIGxvYWRpbmcgd2F0Y2ggZnVuY3Rpb24nKTsNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICBjb25zdCBhcHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYXBwIik7IC8vIDwtIFdlIG5lZWQgdG8gc2Nyb2xsIGRvd24gI2FwcCwgdG8gcHJldmVudCB0aGUgd2hvbGUgcGFnZSBqdW1waW5nIHRvIGJvdHRvbSwgd2hlbiB1c2luZyBpbiBpZnJhbWUNCiAgICAgICAgaWYgKGFwcC5xdWVyeVNlbGVjdG9yKCIjbWVzc2FnZSIpKSB7DQogICAgICAgICAgY29uc3QgbWVzc2FnZSA9DQogICAgICAgICAgICBhcHAucXVlcnlTZWxlY3RvckFsbCgiI21lc3NhZ2UiKVsNCiAgICAgICAgICAgICAgYXBwLnF1ZXJ5U2VsZWN0b3JBbGwoIiNtZXNzYWdlIikubGVuZ3RoIC0gMQ0KICAgICAgICAgICAgXS5vZmZzZXRUb3AgLSA2ODsNCiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IG1lc3NhZ2UsIGJlaGF2aW9yOiAic21vb3RoIiB9KTsNCiAgICAgICAgfQ0KICAgICAgfSwgMik7IC8vIDwtIHdhaXQgZm9yIHJlbmRlciAodGltZW91dCkgYW5kIHRoZW4gc21vb3RobHkgc2Nyb2xsICNhcHAgZG93biB0byB0aGUgbGFzdCBtZXNzYWdlDQogICAgICBjb25zb2xlLmxvZygnZXhpdCBsb2FkaW5nIHdhdGNoIGZ1bmN0aW9uJyk7DQogICAgfSwNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBjb25zb2xlLmxvZygnZW50ZXIgY3JlYXRlZCB3YXRjaCBmdW5jdGlvbicpOw0KICAgIC8qIElmIGhpc3RvcnkgaXMgZW5hYmxlZCwgdGhlIG1lc3NhZ2VzIGFyZSByZXRyaWV2ZWQgZnJvbSBzZXNzaW9uU3RvcmFnZSAqLw0KICAgIGNvbnNvbGUubG9nKCJjcmVhdGVkIGJyYW5jaCBhIikNCiAgICBpZiAodGhpcy5oaXN0b3J5KCkgJiYgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgibWVzc2FnZV9oaXN0b3J5IikgIT09IG51bGwpIHsNCiAgICAgIHRoaXMubWVzc2FnZXMgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oIm1lc3NhZ2VfaGlzdG9yeSIpKTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMubWVzc2FnZXMpDQogICAgfQ0KDQogICAgLyogU2Vzc2lvbiBzaG91bGQgYmUgcGVyc2lzdGVudCAoaW4gY2FzZSBvZiBwYWdlIHJlbG9hZCwgdGhlIGNvbnRleHQgc2hvdWxkIHN0YXkpICovDQogICAgY29uc29sZS5sb2coImNyZWF0ZWQgYnJhbmNoIGIiKQ0KICAgIGlmICh0aGlzLmhpc3RvcnkoKSAmJiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJzZXNzaW9uIikgIT09IG51bGwpIHsNCiAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInNlc3Npb24iKTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2Vzc2lvbikNCiAgICB9IGVsc2Ugew0KICAgICAgdGhpcy5zZXNzaW9uID0gdXVpZHYxKCk7DQogICAgICBpZiAodGhpcy5oaXN0b3J5KCkpIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInNlc3Npb24iLCB0aGlzLnNlc3Npb24pOw0KICAgIH0NCg0KICAgIC8qIENhY2hlIEFnZW50ICh0aGlzIHdpbGwgc2F2ZSBiYW5kd2l0aCkgKi8NCiAgICBjb25zb2xlLmxvZygiY3JlYXRlZCBicmFuY2ggYyIpDQogICAgaWYgKHRoaXMuaGlzdG9yeSgpICYmIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFnZW50IikgIT09IG51bGwpIHsNCiAgICAgIHRoaXMuYXBwID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhZ2VudCIpKTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXBwKQ0KICAgIH0gZWxzZSB7DQogICAgfQ0KICAgIGNvbnNvbGUubG9nKCdleGl0IGNyZWF0ZWQgd2F0Y2ggZnVuY3Rpb24nKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNlbmQoc3VibWlzc2lvbikgew0KICAgICAgLy8gbGV0IHJlcXVlc3Q7DQoNCiAgICAgIC8vIC8qIFRleHQgcmVxdWVzdCAqLw0KICAgICAgLy8gaWYgKHN1Ym1pc3Npb24udGV4dCkgew0KICAgICAgLy8gICByZXF1ZXN0ID0gew0KICAgICAgLy8gICAgIHNlc3Npb246IHRoaXMuc2Vzc2lvbiwNCiAgICAgIC8vICAgICBxdWVyeUlucHV0OiB7DQogICAgICAvLyAgICAgICB0ZXh0OiB7DQogICAgICAvLyAgICAgICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dCwNCiAgICAgIC8vICAgICAgICAgbGFuZ3VhZ2VDb2RlOiB0aGlzLmxhbmcoKSwNCiAgICAgIC8vICAgICAgIH0sDQogICAgICAvLyAgICAgfSwNCiAgICAgIC8vICAgfTsNCiAgICAgIC8vIH0NCg0KICAgICAgY29uc3QgdGV4dCA9IHsNCiAgICAgICAgc2VudGVuY2U6IHN1Ym1pc3Npb24udGV4dA0KICAgICAgICB9IA0KICAgICAgY29uc3QgaGVhZGVyID0gew0KICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgfQ0KICAgICAgDQogICAgICAvLyBlbHNlIGlmIChzdWJtaXNzaW9uLmF1ZGlvKSB7DQoNCiAgICAgIC8vIC8qIEF1ZGlvIHJlcXVlc3QgKi8NCiAgICAgIC8vICAgcmVxdWVzdCA9IHsNCiAgICAgIC8vICAgICBzZXNzaW9uOiB0aGlzLnNlc3Npb24sDQogICAgICAvLyAgICAgcXVlcnlJbnB1dDogew0KICAgICAgLy8gICAgICAgYXVkaW9Db25maWc6IHsNCiAgICAgIC8vICAgICAgICAgYXVkaW9FbmNvZGluZzogIkFVRElPX0VOQ09ESU5HX1VOU1BFQ0lGSUVEIiwNCiAgICAgIC8vICAgICAgICAgbGFuZ3VhZ2VDb2RlOiB0aGlzLmxhbmcoKSwNCiAgICAgIC8vICAgICAgIH0sDQogICAgICAvLyAgICAgfSwNCiAgICAgIC8vICAgICBpbnB1dEF1ZGlvOiBzdWJtaXNzaW9uLmF1ZGlvLA0KICAgICAgLy8gICB9Ow0KICAgICAgLy8gfQ0KDQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOw0KICAgICAgdGhpcy5lcnJvciA9IG51bGw7DQoNCg0KICAgICAgdGhpcy4kYXBpLnBvc3QoJ3YxL2dlbmVyYWwnLHRleHQsaGVhZGVyKS50aGVuKChyZXNwb25zZSk9PnsNCiAgICAgICAgLy90aGlzLmhhbmRsZShyZXNwb25zZSk7DQogICAgICAgIHRoaXMubWVzc2FnZXMucHVzaChyZXNwb25zZSkNCiAgICAgICAgY29uc29sZS5sb2coc2Vzc2lvblN0b3JhZ2UpDQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMubWVzc2FnZXMpDQogICAgICB9KS5jYXRjaCgoZXJyb3IpPT57DQogICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvci5tZXNzYWdlOw0KICAgICAgfSkudGhlbigoKT0+KHRoaXMubG9hZGluZyA9IGZhbHNlKSk7DQoNCiAgICAgIC8vIC8qIE1ha2UgdGhlIHJlcXVlc3QgdG8gZ2F0ZXdheSAqLw0KICAgICAgLy8gdGhpcy5jbGllbnQNCiAgICAgIC8vICAgLnNlbmQocmVxdWVzdCkNCiAgICAgIC8vICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAvLyAgICAgaWYgKHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50VGV4dCkgew0KICAgICAgLy8gICAgICAgcmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRUZXh0ID0gdXJsaWZ5KA0KICAgICAgLy8gICAgICAgICByZXNwb25zZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudFRleHQNCiAgICAgIC8vICAgICAgICk7DQogICAgICAvLyAgICAgfQ0KICAgICAgLy8gICAgIHRoaXMubWVzc2FnZXMucHVzaChyZXNwb25zZSk7DQogICAgICAvLyAgICAgdGhpcy5oYW5kbGUocmVzcG9uc2UpOyAvLyA8LSB0cmlnZ2VyIHRoZSBoYW5kbGUgZnVuY3Rpb24gKGV4cGxhbmF0aW9uIGJlbG93KQ0KICAgICAgLy8gICB9KQ0KICAgICAgLy8gICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAvLyAgICAgdGhpcy5lcnJvciA9IGVycm9yLm1lc3NhZ2U7DQogICAgICAvLyAgIH0pDQogICAgICAvLyAgIC50aGVuKCgpID0+ICh0aGlzLmxvYWRpbmcgPSBmYWxzZSkpOw0KICAgIH0sDQogICAgaGFuZGxlKHJlc3BvbnNlKSB7DQogICAgICAvKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgZm9yIHNwZWVjaCBvdXRwdXQgKi8NCiAgICAgIC8vIGlmIChyZXNwb25zZS5vdXRwdXRBdWRpbykgew0KICAgICAgLy8gICBjb25zdCBvdXRwdXQgPSBuZXcgQXVkaW8oDQogICAgICAvLyAgICAgYGRhdGE6YXVkaW8vbXAzO2Jhc2U2NCwke3Jlc3BvbnNlLm91dHB1dEF1ZGlvfWANCiAgICAgIC8vICAgKTsNCiAgICAgIC8vICAgb3V0cHV0Lm9uZW5kZWQgPSAoKSA9PiB0aGlzLiRyZWZzLmlucHV0Lmxpc3RlbigpOw0KDQogICAgICAvLyAgIGlmICghdGhpcy5tdXRlZCkgb3V0cHV0LnBsYXkoKTsNCiAgICAgIC8vIH0gDQogICAgICB7DQogICAgICAgIGxldCB0ZXh0OyAvLyA8LSBpbml0IGEgdGV4dCB2YXJpYWJsZQ0KICAgICAgICAvL3RleHQgPSByZXNwb25zZS5kYXRhLnF1ZXJ5VGV4dDsNCg0KICAgICAgICAvLyAvKiBEaWFsb2dmbG93IFRleHQvU2ltcGxlUmVzcG9uc2VzICovDQogICAgICAgIA0KICAgICAgICAvLyBmb3IgKGNvbnN0IGNvbXBvbmVudCBpbiByZXNwb25zZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzKSB7DQogICAgICAgIC8vICAgaWYgKHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS50ZXh0KQ0KICAgICAgICAvLyAgICAgdGV4dCA9DQogICAgICAgIC8vICAgICAgIHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LmZ1bGZpbGxtZW50TWVzc2FnZXNbY29tcG9uZW50XS50ZXh0LnRleHRbMF07DQogICAgICAgIC8vICAgaWYgKA0KICAgICAgICAvLyAgICAgcmVzcG9uc2UucXVlcnlSZXN1bHQuZnVsZmlsbG1lbnRNZXNzYWdlc1tjb21wb25lbnRdLnNpbXBsZVJlc3BvbnNlcw0KICAgICAgICAvLyAgICkNCiAgICAgICAgLy8gICAgIHRleHQgPQ0KICAgICAgICAvLyAgICAgICByZXNwb25zZS5xdWVyeVJlc3VsdC5mdWxmaWxsbWVudE1lc3NhZ2VzW2NvbXBvbmVudF0NCiAgICAgICAgLy8gICAgICAgICAuc2ltcGxlUmVzcG9uc2VzLnNpbXBsZVJlc3BvbnNlc1swXS50ZXh0VG9TcGVlY2g7DQogICAgICAgIC8vIH0NCg0KICAgICAgICAvLyAvKiBBY3Rpb25zIG9uIEdvb2dsZSBTaW1wbGUgcmVzcG9uc2UgKi8NCiAgICAgICAgLy8gaWYgKA0KICAgICAgICAvLyAgIHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkICYmDQogICAgICAgIC8vICAgcmVzcG9uc2UucXVlcnlSZXN1bHQud2ViaG9va1BheWxvYWQuZ29vZ2xlDQogICAgICAgIC8vICkgew0KICAgICAgICAvLyAgIGZvciAoY29uc3QgY29tcG9uZW50IGluIHJlc3BvbnNlLnF1ZXJ5UmVzdWx0LndlYmhvb2tQYXlsb2FkLmdvb2dsZSkgew0KICAgICAgICAvLyAgICAgaWYgKA0KICAgICAgICAvLyAgICAgICByZXNwb25zZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGVbY29tcG9uZW50XQ0KICAgICAgICAvLyAgICAgICAgIC5zaW1wbGVSZXNwb25zZQ0KICAgICAgICAvLyAgICAgKQ0KICAgICAgICAvLyAgICAgICB0ZXh0ID0NCiAgICAgICAgLy8gICAgICAgICByZXNwb25zZS5xdWVyeVJlc3VsdC53ZWJob29rUGF5bG9hZC5nb29nbGVbY29tcG9uZW50XQ0KICAgICAgICAvLyAgICAgICAgICAgLnNpbXBsZVJlc3BvbnNlLnRleHRUb1NwZWVjaDsNCiAgICAgICAgLy8gICB9DQogICAgICAgIC8vIH0NCg0KICAgICAgICAvLyBjb25zdCBzcGVlY2ggPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpOw0KICAgICAgICAvLyBzcGVlY2gudm9pY2VVUkkgPSB0aGlzLmNvbmZpZy52b2ljZTsNCiAgICAgICAgLy8gc3BlZWNoLmxhbmcgPSB0aGlzLmxhbmcoKTsNCiAgICAgICAgLy8gc3BlZWNoLm9uZW5kID0gKCkgPT4gdGhpcy4kcmVmcy5pbnB1dC5saXN0ZW4oKTsNCg0KICAgICAgICAvLyBpZiAoIXRoaXMubXV0ZWQpIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuc3BlYWsoc3BlZWNoKTsgLy8gPC0gaWYgYXBwIGlzIG5vdCBtdXRlZCwgc3BlYWsgb3V0IHRoZSBzcGVlY2gNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0MA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src/Views","sourcesContent":["<template>\r\n  <main id=\"app\">\r\n    <!-- TopHead is the header with the information about the app -->\r\n    <TopHead>\r\n      <!-- Audio toggle (on the top right corner), used to toggle the audio output, default mode is defined in the settings -->\r\n      <!--<button\r\n        class=\"audio-toggle\"\r\n        :title=\"\r\n          muted\r\n            ? (translations[lang()] && translations[lang()].unMuteTitle) ||\r\n              translations[config.fallback_lang].unMuteTitle\r\n            : (translations[lang()] && translations[lang()].muteTitle) ||\r\n              translations[config.fallback_lang].muteTitle\r\n        \"\r\n        :aria-label=\"\r\n          muted\r\n            ? (translations[lang()] && translations[lang()].unMuteTitle) ||\r\n              translations[config.fallback_lang].unMuteTitle\r\n            : (translations[lang()] && translations[lang()].muteTitle) ||\r\n              translations[config.fallback_lang].muteTitle\r\n        \"\r\n        @click=\"muted = !muted\"\r\n      >\r\n        <i aria-hidden=\"true\" class=\"material-icons\">{{\r\n          muted ? \"volume_off\" : \"volume_up\"\r\n        }}</i>\r\n      </button>-->\r\n    </TopHead>\r\n\r\n    <section class=\"container chat-container\">\r\n      <Error v-if=\"error\" :error=\"error\" />\r\n\r\n      <RichComponent>\r\n        <Bubble\r\n          :text=\"'Test'\"\r\n        />\r\n      </RichComponent>\r\n      <!-- Messages Table -->\r\n      <section v-if=\"messages\" aria-live=\"polite\" style=\"height:80%\">\r\n        <div v-for=\"message in messages\" id=\"message\" :key=\"message.responseId\">\r\n          <!-- My message -->\r\n          <BubbleWrapper\r\n            ><Bubble\r\n              v-if=\"message.data.queryResult.queryText\"\r\n              :text=\"message.data.queryResult.queryText\"\r\n              me\r\n          /></BubbleWrapper>\r\n\r\n          <!-- Fulfillment text -->\r\n          <RichComponent>\r\n            <Bubble\r\n              v-if=\"message.data.queryResult.fulfillmentText\"\r\n              :text=\"message.data.queryResult.fulfillmentText\"\r\n            />\r\n          </RichComponent>\r\n\r\n          <!-- Dialogflow Components -->\r\n          <RichComponent\r\n            v-for=\"(component, component_id) in message.data.queryResult\r\n              .fulfillmentMessages\"\r\n            :key=\"component_id\"\r\n          >\r\n            <!-- ListSelect (https://cloud.google.com/dialogflow/docs/reference/rest/v2beta1/projects.agent.intents#ListSelect) -->\r\n            \r\n            <List\r\n              v-if=\"component.listSelect\"\r\n              :title=\"component.listSelect.title\"\r\n              :subtitle=\"component.listSelect.subtitle\"\r\n            >\r\n              <ListItem\r\n                v-for=\"item in component.listSelect.items\"\r\n                :key=\"item.info.key\"\r\n                :title=\"item.title\"\r\n                :description=\"item.description\"\r\n                :image-uri=\"item.image.imageUri\"\r\n                :image-title=\"item.image.accessibilityText\"\r\n                @click.native=\"send({ text: item.info.key })\"\r\n              />\r\n            </List>\r\n          </RichComponent>\r\n\r\n          <!-- Actions on Google Components -->\r\n          <section\r\n            v-if=\"\r\n              message.data.queryResult.webhookPayload &&\r\n              message.data.queryResult.webhookPayload.google\r\n            \"\r\n          >\r\n            <RichComponent\r\n              v-for=\"(component, component_id) in message.data.queryResult\r\n                .webhookPayload.google.richResponse.items\"\r\n              :key=\"component_id\"\r\n            >\r\n              <!-- List (https://developers.google.com/actions/assistant/responses#list) -->\r\n              <List\r\n                v-if=\"component.listSelect\"\r\n                :title=\"component.listSelect.title\"\r\n                :subtitle=\"component.listSelect.subtitle\"\r\n              >\r\n                <ListItem\r\n                  v-for=\"item in component.listSelect.items\"\r\n                  :key=\"item.info.key\"\r\n                  :title=\"item.title\"\r\n                  :description=\"item.description\"\r\n                  :image-uri=\"item.image.url\"\r\n                  :image-title=\"item.image.accessibilityText\"\r\n                  @click.native=\"send({ text: item.info.key })\"\r\n                />\r\n              </List>\r\n            </RichComponent>\r\n\r\n            <!-- Visual Selection Responses (https://developers.google.com/actions/assistant/responses#visual_selection_responses) -->\r\n            <RichComponent\r\n              v-for=\"(component, component_id) in message.data.queryResult\r\n                .webhookPayload.google.systemIntent\"\r\n              :key=\"component_id\"\r\n            >\r\n              <!-- List (https://developers.google.com/actions/assistant/responses#list) -->\r\n              <List\r\n                v-if=\"component.listSelect\"\r\n                :title=\"component.listSelect.title\"\r\n                :subtitle=\"component.listSelect.subtitle\"\r\n              >\r\n                <ListItem\r\n                  v-for=\"item in component.listSelect.items\"\r\n                  :key=\"item.optionInfo.key\"\r\n                  :title=\"item.title\"\r\n                  :description=\"item.description\"\r\n                  :image-uri=\"item.image.url\"\r\n                  :image-title=\"item.image.accessibilityText\"\r\n                  @click.native=\"send({ text: item.optionInfo.key })\"\r\n                />\r\n              </List>\r\n            </RichComponent>\r\n          </section>\r\n        </div>\r\n        <div v-if=\"loading\" id=\"message\">\r\n          <!-- My message (Loading) -->\r\n          <BubbleWrapper\r\n            ><Bubble me loading aria-hidden=\"true\"\r\n          /></BubbleWrapper>\r\n\r\n          <!-- Default / Webhook bubble (Loading) -->\r\n          <Bubble loading aria-hidden=\"true\" />\r\n        </div>\r\n      </section>\r\n    </section>\r\n\r\n    <!-- ChatInput is made for submitting queries and displaying suggestions -->\r\n    <ChatInput ref=\"input\" @submit=\"send\">\r\n      <!-- Suggestion chips\r\n                https://developers.google.com/actions/assistant/responses#suggestion_chips\r\n                https://cloud.google.com/dialogflow/docs/reference/rest/v2beta1/projects.agent.intents#QuickReplies\r\n                https://cloud.google.com/dialogflow/docs/reference/rest/v2beta1/projects.agent.intents#Suggestions\r\n            -->\r\n      <Suggestion\r\n        v-for=\"(suggestion, suggestion_id) in suggestions.text_suggestions\"\r\n        :key=\"suggestion_id\"\r\n        :title=\"suggestion\"\r\n        @click.native=\"send({ text: suggestion })\"\r\n      />\r\n\r\n      <!-- Link suggestion chips\r\n                https://developers.google.com/actions/assistant/responses#suggestion_chips\r\n                https://cloud.google.com/dialogflow/docs/reference/rest/v2beta1/projects.agent.intents#LinkOutSuggestion\r\n            -->\r\n      <Suggestion\r\n        v-if=\"suggestions.link_suggestion\"\r\n        :title=\"suggestions.link_suggestion.destinationName\"\r\n        :url=\"\r\n          suggestions.link_suggestion.uri || suggestions.link_suggestion.url\r\n        \"\r\n      />\r\n    </ChatInput>\r\n  </main>\r\n</template>\r\n\r\n<style lang=\"sass\">\r\n@import '@/Style/Theme.sass'\r\n\r\nbody\r\n    margin: 0\r\n    padding: 0\r\n    font-family: var(--font)\r\n    font-display: swap\r\n    background-color: var(--background)\r\n\r\n.container\r\n    max-width: 500px\r\n    margin-left: auto\r\n    margin-right: auto\r\n    padding: 12px\r\n    position: relative\r\n</style>\r\n\r\n<style lang=\"sass\" scoped>\r\n.chat-container\r\n    padding-top: 70px\r\n    padding-bottom: 125px\r\n</style>\r\n\r\n<script>\r\nimport Welcome from \"./Welcome.vue\";\r\n\r\nimport Error from \"@/Components/Parts/Error.vue\";\r\nimport TopHead from \"@/Components/Parts/TopHead.vue\";\r\nimport ChatInput from \"@/Components/Parts/ChatInput.vue\";\r\n\r\nimport RichComponent from \"@/Components/Rich/Component.vue\";\r\nimport Bubble from \"@/Components/Rich/Bubble.vue\";\r\nimport BubbleWrapper from \"@/Components/Rich/BubbleWrapper.vue\";\r\nimport Card from \"@/Components/Rich/Card.vue\";\r\nimport CardButton from \"@/Components/Rich/CardButton.vue\";\r\nimport Carousel from \"@/Components/Rich/Carousel.vue\";\r\nimport List from \"@/Components/Rich/List.vue\";\r\nimport ListItem from \"@/Components/Rich/ListItem.vue\";\r\nimport Picture from \"@/Components/Rich/Picture.vue\";\r\nimport Media from \"@/Components/Rich/Media.vue\";\r\nimport TableCard from \"@/Components/Rich/TableCard.vue\";\r\nimport Suggestion from \"@/Components/Rich/Suggestion.vue\";\r\n\r\nimport * as uuidv1 from \"uuid/v1\";\r\n\r\n//import { Client } from \"dialogflow-gateway\";\r\n\r\nfunction urlify(text) {\r\n  var urlRegex = /(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gi;\r\n  return text.replace(urlRegex, function (url) {\r\n    return '<a class=\"b\" href=\"' + url + '\" target=\"_blank\">' + url + \"</a>\";\r\n  });\r\n  // or alternatively\r\n  // return text.replace(urlRegex, '<a href=\"$1\">$1</a>')\r\n}\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    Welcome,\r\n    Error,\r\n    TopHead,\r\n    ChatInput,\r\n    RichComponent,\r\n    Bubble,\r\n    BubbleWrapper,\r\n    Card,\r\n    CardButton,\r\n    Carousel,\r\n    List,\r\n    ListItem,\r\n    Picture,\r\n    Media,\r\n    TableCard,\r\n    Suggestion,\r\n  },\r\n  data() {\r\n    return {\r\n      app: null,\r\n      messages: [],\r\n      language: \"\",\r\n      session: \"\",\r\n      muted: true,\r\n      loading: false,\r\n      error: null,\r\n      //client: new new Client(this.config.endpoint).connect(),\r\n    };\r\n  },\r\n  computed: {\r\n    /* The code below is used to extract suggestions from last message, to display it on ChatInput */\r\n    suggestions() {\r\n      if (this.messages.length > 0) {\r\n        const last_message = this.messages[this.messages.length - 1];\r\n        const suggestions = [];\r\n\r\n        /* Dialogflow Suggestions */\r\n        for (const component in last_message.data.queryResult.fulfillmentMessages) {\r\n          console.log(last_message.data.queryResult.fulfillmentMessages[component])\r\n          if (\r\n            last_message.data.queryResult.fulfillmentMessages[component].suggestions\r\n          )\r\n            suggestions.text_suggestions = last_message.data.queryResult.fulfillmentMessages[\r\n              component\r\n            ].suggestions.suggestions.map((suggestion) => suggestion.title);\r\n          if (\r\n            last_message.data.queryResult.fulfillmentMessages[component]\r\n              .linkOutSuggestion\r\n          )\r\n            suggestions.link_suggestion =\r\n              last_message.data.queryResult.fulfillmentMessages[\r\n                component\r\n              ].linkOutSuggestion;\r\n          if (\r\n            last_message.data.queryResult.fulfillmentMessages[component].quickReplies\r\n          )\r\n            { console.log(\"enter quick reply\")\r\n              suggestions.text_suggestions =\r\n              last_message.data.queryResult.fulfillmentMessages[\r\n                component\r\n              ].quickReplies.quickReplies;}\r\n        }\r\n\r\n        /* Google Suggestions */\r\n        if (\r\n          last_message.data.queryResult.webhookPayload &&\r\n          last_message.data.queryResult.webhookPayload.google\r\n        ) {\r\n          for (const component in last_message.data.queryResult.webhookPayload\r\n            .google) {\r\n            if (\r\n              last_message.data.queryResult.webhookPayload.google[component]\r\n                .suggestions\r\n            )\r\n              suggestions.text_suggestions = last_message.data.queryResult.webhookPayload.google[\r\n                component\r\n              ].suggestions.map((suggestion) => suggestion.title);\r\n            if (\r\n              last_message.data.queryResult.webhookPayload.google[component]\r\n                .linkOutSuggestion\r\n            )\r\n              suggestions.link_suggestion =\r\n                last_message.data.queryResult.webhookPayload.google[\r\n                  component\r\n                ].linkOutSuggestion;\r\n          }\r\n        }\r\n\r\n        return suggestions;\r\n      }\r\n\r\n      return {\r\n        text_suggestions: this.config.start_suggestions, // <- if no messages are present, return start_suggestions, from config.js to help user figure out what he can do with your application\r\n      };\r\n    },\r\n  },\r\n  watch: {\r\n    /* This function is triggered, when new messages arrive */\r\n    messages(messages) {\r\n      console.log('enter messages watch function');\r\n      if (this.history())\r\n        sessionStorage.setItem(\"message_history\", JSON.stringify(messages)); // <- Save history if the feature is enabled\r\n      console.log(JSON.stringify(messages))\r\n      console.log('exit messages watch function');\r\n    },\r\n    /* This function is triggered, when request is started or finished */\r\n    loading() {\r\n      console.log('enter loading watch function');\r\n      setTimeout(() => {\r\n        const app = document.querySelector(\"#app\"); // <- We need to scroll down #app, to prevent the whole page jumping to bottom, when using in iframe\r\n        if (app.querySelector(\"#message\")) {\r\n          const message =\r\n            app.querySelectorAll(\"#message\")[\r\n              app.querySelectorAll(\"#message\").length - 1\r\n            ].offsetTop - 68;\r\n          window.scrollTo({ top: message, behavior: \"smooth\" });\r\n        }\r\n      }, 2); // <- wait for render (timeout) and then smoothly scroll #app down to the last message\r\n      console.log('exit loading watch function');\r\n    },\r\n  },\r\n  created() {\r\n    console.log('enter created watch function');\r\n    /* If history is enabled, the messages are retrieved from sessionStorage */\r\n    console.log(\"created branch a\")\r\n    if (this.history() && sessionStorage.getItem(\"message_history\") !== null) {\r\n      this.messages = JSON.parse(sessionStorage.getItem(\"message_history\"));\r\n      console.log(this.messages)\r\n    }\r\n\r\n    /* Session should be persistent (in case of page reload, the context should stay) */\r\n    console.log(\"created branch b\")\r\n    if (this.history() && sessionStorage.getItem(\"session\") !== null) {\r\n      this.session = sessionStorage.getItem(\"session\");\r\n      console.log(this.session)\r\n    } else {\r\n      this.session = uuidv1();\r\n      if (this.history()) sessionStorage.setItem(\"session\", this.session);\r\n    }\r\n\r\n    /* Cache Agent (this will save bandwith) */\r\n    console.log(\"created branch c\")\r\n    if (this.history() && sessionStorage.getItem(\"agent\") !== null) {\r\n      this.app = JSON.parse(sessionStorage.getItem(\"agent\"));\r\n      console.log(this.app)\r\n    } else {\r\n    }\r\n    console.log('exit created watch function');\r\n  },\r\n  methods: {\r\n    send(submission) {\r\n      // let request;\r\n\r\n      // /* Text request */\r\n      // if (submission.text) {\r\n      //   request = {\r\n      //     session: this.session,\r\n      //     queryInput: {\r\n      //       text: {\r\n      //         text: submission.text,\r\n      //         languageCode: this.lang(),\r\n      //       },\r\n      //     },\r\n      //   };\r\n      // }\r\n\r\n      const text = {\r\n        sentence: submission.text\r\n        } \r\n      const header = {\r\n        'Content-Type': 'application/json',\r\n      }\r\n      \r\n      // else if (submission.audio) {\r\n\r\n      // /* Audio request */\r\n      //   request = {\r\n      //     session: this.session,\r\n      //     queryInput: {\r\n      //       audioConfig: {\r\n      //         audioEncoding: \"AUDIO_ENCODING_UNSPECIFIED\",\r\n      //         languageCode: this.lang(),\r\n      //       },\r\n      //     },\r\n      //     inputAudio: submission.audio,\r\n      //   };\r\n      // }\r\n\r\n      this.loading = true;\r\n      this.error = null;\r\n\r\n\r\n      this.$api.post('v1/general',text,header).then((response)=>{\r\n        //this.handle(response);\r\n        this.messages.push(response)\r\n        console.log(sessionStorage)\r\n        console.log(this.messages)\r\n      }).catch((error)=>{\r\n        this.error = error.message;\r\n      }).then(()=>(this.loading = false));\r\n\r\n      // /* Make the request to gateway */\r\n      // this.client\r\n      //   .send(request)\r\n      //   .then((response) => {\r\n      //     if (response.queryResult.fulfillmentText) {\r\n      //       response.queryResult.fulfillmentText = urlify(\r\n      //         response.queryResult.fulfillmentText\r\n      //       );\r\n      //     }\r\n      //     this.messages.push(response);\r\n      //     this.handle(response); // <- trigger the handle function (explanation below)\r\n      //   })\r\n      //   .catch((error) => {\r\n      //     this.error = error.message;\r\n      //   })\r\n      //   .then(() => (this.loading = false));\r\n    },\r\n    handle(response) {\r\n      /* This function is used for speech output */\r\n      // if (response.outputAudio) {\r\n      //   const output = new Audio(\r\n      //     `data:audio/mp3;base64,${response.outputAudio}`\r\n      //   );\r\n      //   output.onended = () => this.$refs.input.listen();\r\n\r\n      //   if (!this.muted) output.play();\r\n      // } \r\n      {\r\n        let text; // <- init a text variable\r\n        //text = response.data.queryText;\r\n\r\n        // /* Dialogflow Text/SimpleResponses */\r\n        \r\n        // for (const component in response.queryResult.fulfillmentMessages) {\r\n        //   if (response.queryResult.fulfillmentMessages[component].text)\r\n        //     text =\r\n        //       response.queryResult.fulfillmentMessages[component].text.text[0];\r\n        //   if (\r\n        //     response.queryResult.fulfillmentMessages[component].simpleResponses\r\n        //   )\r\n        //     text =\r\n        //       response.queryResult.fulfillmentMessages[component]\r\n        //         .simpleResponses.simpleResponses[0].textToSpeech;\r\n        // }\r\n\r\n        // /* Actions on Google Simple response */\r\n        // if (\r\n        //   response.queryResult.webhookPayload &&\r\n        //   response.queryResult.webhookPayload.google\r\n        // ) {\r\n        //   for (const component in response.queryResult.webhookPayload.google) {\r\n        //     if (\r\n        //       response.queryResult.webhookPayload.google[component]\r\n        //         .simpleResponse\r\n        //     )\r\n        //       text =\r\n        //         response.queryResult.webhookPayload.google[component]\r\n        //           .simpleResponse.textToSpeech;\r\n        //   }\r\n        // }\r\n\r\n        // const speech = new SpeechSynthesisUtterance(text);\r\n        // speech.voiceURI = this.config.voice;\r\n        // speech.lang = this.lang();\r\n        // speech.onend = () => this.$refs.input.listen();\r\n\r\n        // if (!this.muted) window.speechSynthesis.speak(speech); // <- if app is not muted, speak out the speech\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}